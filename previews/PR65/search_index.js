var documenterSearchIndex = {"docs":
[{"location":"api/#Interacting-with-a-model","page":"API","title":"Interacting with a model","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"The API allows for:","category":"page"},{"location":"api/","page":"API","title":"API","text":"build/estimate models\nquery models for statistics (e.g., goodness-of-fit statistics), components (parameter estimates)\nexport model estimates","category":"page"},{"location":"api/#Core-Functionality","page":"API","title":"Core Functionality","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"Econometrics\nEconometricModel","category":"page"},{"location":"api/#Econometrics","page":"API","title":"Econometrics","text":"Econometrics\n\nEconometrics in Julia.\n\n\n\n\n\n","category":"module"},{"location":"api/#Econometrics.EconometricModel","page":"API","title":"Econometrics.EconometricModel","text":"EconometricModel(estimator::Type{<:Union{EconometricModel,ModelEstimator}},\n                 f::FormulaTerm,\n                 data;\n                 contrasts::Dict{Symbol} = Dict{Symbol,Union{<:AbstractContrasts,<:AbstractTerm}}(),\n                 wts::Union{Nothing,Symbol} = nothing,\n                 panel::Union{Nothing,Symbol} = nothing,\n                 time::Union{Nothing,Symbol} = nothing,\n                 vce::VCE = OIM)\n\nFormula has syntax:\n\n@formula(response ~ exogenous + (endogenous ~ instruments) + absorb(highdimscontrols))\n\nData must implement the Tables.jl API and use CategoricalArrays (CategoricalVector)\n\nWeights are taken as StatsBase.FrequencyWeights\n\nPanel and time indicators are used for longitudinal estimators\n\nExamples\n\nmodel = fit(EconometricModel, formula, data, kwargs...)\nmodel = fit(BetweenEstimator, formula, data, panel = :panel, kwargs...)\nmodel = fit(RandomEffectsEstimator, formula, data, panel = :panel, time = :time, kwargs...)\n\n\n\n\n\n","category":"type"},{"location":"api/#Statistical/Regression-Model-Abstraction","page":"API","title":"Statistical/Regression Model Abstraction","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"aic\naicc\nbic\nr2\nadjr2\nmss\nrss\ndeviance\nnulldeviance\nloglikelihood\nnullloglikelihood\ncoef\ndof\ndof_residual\ncoefnames(::EconometricModel)\ncoeftable(::EconometricModel)\nislinear\ninformationmatrix\nvcov(::EconometricModel)\nstderror(::EconometricModel, ::Econometrics.VCE)\nconfint(::EconometricModel)\nhasintercept\nisfitted\nfit(::EconometricModel)\nfit!(::EconometricModel)\nresponse\nmeanresponse\nfitted\npredict\nmodelmatrix\nresiduals\nleverage\nnobs\nweights(::EconometricModel)","category":"page"},{"location":"api/#StatsBase.aic","page":"API","title":"StatsBase.aic","text":"aic(model::StatisticalModel)\n\nAkaike's Information Criterion, defined as -2 log L + 2k, with L the likelihood of the model, and k its number of consumed degrees of freedom (as returned by dof).\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.aicc","page":"API","title":"StatsBase.aicc","text":"aicc(model::StatisticalModel)\n\nCorrected Akaike's Information Criterion for small sample sizes (Hurvich and Tsai 1989), defined as -2 log L + 2k + 2k(k-1)(n-k-1), with L the likelihood of the model, k its number of consumed degrees of freedom (as returned by dof), and n the number of observations (as returned by nobs).\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.bic","page":"API","title":"StatsBase.bic","text":"bic(model::StatisticalModel)\n\nBayesian Information Criterion, defined as -2 log L + k log n, with L the likelihood of the model,  k its number of consumed degrees of freedom (as returned by dof), and n the number of observations (as returned by nobs).\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.r2","page":"API","title":"StatsBase.r2","text":"r2(model::StatisticalModel)\nr²(model::StatisticalModel)\n\nCoefficient of determination (R-squared).\n\nFor a linear model, the R² is defined as ESSTSS, with ESS the explained sum of squares and TSS the total sum of squares.\n\n\n\n\n\nr2(model::StatisticalModel, variant::Symbol)\nr²(model::StatisticalModel, variant::Symbol)\n\nPseudo-coefficient of determination (pseudo R-squared).\n\nFor nonlinear models, one of several pseudo R² definitions must be chosen via variant. Supported variants are:\n\n:MacFadden (a.k.a. likelihood ratio index), defined as 1 - log (L)log (L_0);\n:CoxSnell, defined as 1 - (L_0L)^2n;\n:Nagelkerke, defined as (1 - (L_0L)^2n)(1 - L_0^2n).\n:devianceratio, defined as 1 - DD_0.\n\nIn the above formulas, L is the likelihood of the model, L_0 is the likelihood of the null model (the model with only an intercept), D is the deviance of the model (from the saturated model), D_0 is the deviance of the null model, n is the number of observations (given by nobs).\n\nThe Cox-Snell and the deviance ratio variants both match the classical definition of R² for linear models.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.adjr2","page":"API","title":"StatsBase.adjr2","text":"adjr2(model::StatisticalModel)\nadjr²(model::StatisticalModel)\n\nAdjusted coefficient of determination (adjusted R-squared).\n\nFor linear models, the adjusted R² is defined as 1 - (1 - (1-R^2)(n-1)(n-p)), with R^2 the coefficient of determination, n the number of observations, and p the number of coefficients (including the intercept). This definition is generally known as the Wherry Formula I.\n\n\n\n\n\nadjr2(model::StatisticalModel, variant::Symbol)\nadjr²(model::StatisticalModel, variant::Symbol)\n\nAdjusted pseudo-coefficient of determination (adjusted pseudo R-squared).\n\nFor nonlinear models, one of the several pseudo R² definitions must be chosen via variant. The only currently supported variants are :MacFadden, defined as 1 - (log (L) - k)log (L0) and :devianceratio, defined as 1 - (D(n-k))(D_0(n-1)).  In these formulas, L is the likelihood of the model, L0 that of the null model (the model including only the intercept), D is the deviance of the model, D_0 is the deviance of the null model, n is the number of observations (given by nobs) and k is the number of consumed degrees of freedom of the model (as returned by dof).\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.mss","page":"API","title":"StatsBase.mss","text":"mss(model::StatisticalModel)\n\nReturn the model sum of squares.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.rss","page":"API","title":"StatsBase.rss","text":"rss(model::StatisticalModel)\n\nReturn the residual sum of squares of the model.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.deviance","page":"API","title":"StatsBase.deviance","text":"deviance(model::StatisticalModel)\n\nReturn the deviance of the model relative to a reference, which is usually when applicable the saturated model. It is equal, up to a constant, to -2 log L, with L the likelihood of the model.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.nulldeviance","page":"API","title":"StatsBase.nulldeviance","text":"nulldeviance(model::StatisticalModel)\n\nReturn the deviance of the null model, that is the one including only the intercept.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.loglikelihood","page":"API","title":"StatsBase.loglikelihood","text":"loglikelihood(model::StatisticalModel)\n\nReturn the log-likelihood of the model.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.nullloglikelihood","page":"API","title":"StatsBase.nullloglikelihood","text":"loglikelihood(model::StatisticalModel)\n\nReturn the log-likelihood of the null model corresponding to model. This is usually the model containing only the intercept.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.coef","page":"API","title":"StatsBase.coef","text":"coef(model::StatisticalModel)\n\nReturn the coefficients of the model.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.dof","page":"API","title":"StatsBase.dof","text":"dof(model::StatisticalModel)\n\nReturn the number of degrees of freedom consumed in the model, including when applicable the intercept and the distribution's dispersion parameter.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.dof_residual","page":"API","title":"StatsBase.dof_residual","text":"dof_residual(model::RegressionModel)\n\nReturn the residual degrees of freedom of the model.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.coefnames-Tuple{EconometricModel}","page":"API","title":"StatsBase.coefnames","text":"coefnames(model::StatisticalModel)\n\nReturn the names of the coefficients.\n\n\n\n\n\n","category":"method"},{"location":"api/#StatsBase.coeftable-Tuple{EconometricModel}","page":"API","title":"StatsBase.coeftable","text":"coeftable(obj::EconometricModel;\n\t  level::Real = 0.95)\ncoeftable(obj::EconometricModel{<:LinearModelEstimators};\n\t  level::Real = 0.95,\n\t  vce::VCE = obj.vce)\n\nReturn a table of class CoefTable with coefficients and related statistics. level determines the level for confidence intervals (by default, 95%). vce determines the variance-covariance estimator (by default, OIM).\n\n\n\n\n\n","category":"method"},{"location":"api/#StatsBase.islinear","page":"API","title":"StatsBase.islinear","text":"islinear(model::StatisticalModel)\n\nIndicate whether the model is linear.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.informationmatrix","page":"API","title":"StatsBase.informationmatrix","text":"informationmatrix(model::StatisticalModel; expected::Bool = true)\n\nReturn the information matrix of the model. By default the Fisher information matrix is returned, while the observed information matrix can be requested with expected = false.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.vcov-Tuple{EconometricModel}","page":"API","title":"StatsBase.vcov","text":"vcov(obj::EconometricModel)\nvcov(obj::EconometricModel{<:LinearModelEstimators}, vce::VCE = obj.vce)\n\nReturn the variance-covariance matrix for the coefficients of the model. The vce argument allows to request variance estimators.\n\n\n\n\n\n","category":"method"},{"location":"api/#StatsBase.stderror-Tuple{EconometricModel,Econometrics.VCE}","page":"API","title":"StatsBase.stderror","text":"stderror(obj::EconometricModel)\nstderror(obj::EconometricModel{<:LinearModelEstimators}, vce::VCE = obj.vce)\n\nReturn the standard errors for the coefficients of the model. The vce argument allows to request variance estimators.\n\n\n\n\n\n","category":"method"},{"location":"api/#StatsBase.confint-Tuple{EconometricModel}","page":"API","title":"StatsBase.confint","text":"confint(obj::EconometricModel; se::AbstractVector{<:Real} = stderror(obj), level::Real = 0.95)\n\nCompute the confidence intervals for coefficients, with confidence level level (by default, 95%). se can be provided as a precomputed value.\n\n\n\n\n\n","category":"method"},{"location":"api/#StatsModels.hasintercept","page":"API","title":"StatsModels.hasintercept","text":"hasintercept(obj::EconometricModel)::Bool\n\nReturn whether the model has an intercept.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.isfitted","page":"API","title":"StatsBase.isfitted","text":"isfitted(model::StatisticalModel)\n\nIndicate whether the model has been fitted.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.fit-Tuple{EconometricModel}","page":"API","title":"StatsBase.fit","text":"Fit a statistical model.\n\n\n\n\n\n","category":"method"},{"location":"api/#StatsBase.fit!-Tuple{EconometricModel}","page":"API","title":"StatsBase.fit!","text":"Fit a statistical model in-place.\n\n\n\n\n\n","category":"method"},{"location":"api/#StatsBase.response","page":"API","title":"StatsBase.response","text":"response(model::RegressionModel)\n\nReturn the model response (a.k.a. the dependent variable).\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.meanresponse","page":"API","title":"StatsBase.meanresponse","text":"meanresponse(model::RegressionModel)\n\nReturn the mean of the response.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.fitted","page":"API","title":"StatsBase.fitted","text":"fitted(model::RegressionModel)\n\nReturn the fitted values of the model.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.predict","page":"API","title":"StatsBase.predict","text":"predict(model::RegressionModel, [newX])\n\nForm the predicted response of model. An object with new covariate values newX can be supplied, which should have the same type and structure as that used to fit model; e.g. for a GLM it would generally be a DataFrame with the same variable names as the original predictors.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.modelmatrix","page":"API","title":"StatsBase.modelmatrix","text":"modelmatrix(model::RegressionModel)\n\nReturn the model matrix (a.k.a. the design matrix).\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.residuals","page":"API","title":"StatsBase.residuals","text":"residuals(model::RegressionModel)\n\nReturn the residuals of the model.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.leverage","page":"API","title":"StatsBase.leverage","text":"leverage(model::RegressionModel)\n\nReturn the diagonal of the projection matrix of the model.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.nobs","page":"API","title":"StatsBase.nobs","text":"nobs(model::StatisticalModel)\n\nReturn the number of independent observations on which the model was fitted. Be careful when using this information, as the definition of an independent observation may vary depending on the model, on the format used to pass the data, on the sampling plan (if specified), etc.\n\n\n\n\n\n","category":"function"},{"location":"api/#StatsBase.weights-Tuple{EconometricModel}","page":"API","title":"StatsBase.weights","text":"weights(model::StatisticalModel)\n\nReturn the weights used in the model.\n\n\n\n\n\n","category":"method"},{"location":"api/#Estimators","page":"API","title":"Estimators","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"BetweenEstimator\nRandomEffectsEstimator\nEconometrics.VCE","category":"page"},{"location":"api/#Econometrics.BetweenEstimator","page":"API","title":"Econometrics.BetweenEstimator","text":"BetweenEstimator(effect::Symbol,\n                 groups::Vector{Vector{Int}}) <: LinearModelEstimators\n\nContinuous response estimator collapsing a dimension in a longitudinal setting.\n\n\n\n\n\n","category":"type"},{"location":"api/#Econometrics.RandomEffectsEstimator","page":"API","title":"Econometrics.RandomEffectsEstimator","text":"RandomEffectsEstimator(pid::Tuple{Symbol,Vector{Vector{Int}}},\n                       tid::Tuple{Symbol,Vector{Vector{Int}}},\n                       idiosyncratic::Float64,\n                       individual::Float64,\n                       θ::Vector{Float64}) <: LinearModelEstimators\n\nSwamy-Arora estimator.\n\n\n\n\n\n","category":"type"},{"location":"api/#Econometrics.VCE","page":"API","title":"Econometrics.VCE","text":"VCE\n\nVariance-covariance estimators.\n\nObserved Information Matrix (OIM)\nHeteroscedasticity Consistent: HC0, HC1, HC2, HC3, HC4\n\n\n\n\n\n","category":"type"},{"location":"api/#Formula-Components","page":"API","title":"Formula Components","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"absorb","category":"page"},{"location":"api/#Econometrics.absorb","page":"API","title":"Econometrics.absorb","text":"absorb\n\nFunction for constructing the FunctionTerm{typeof(absorb)} used in decompose.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#Getting-Started","page":"Getting Started","title":"Getting Started","text":"","category":"section"},{"location":"getting_started/#Installation","page":"Getting Started","title":"Installation","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"Econometrics.jl is registered with the Julia's General registry.","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"For installing the package, users can use Julia's package manager.","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"using Pkg; Pkg.add(\"Econometrics\") # one alternative\n]add Econometrics # same as the line above","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"The package manager will automatically resolve which release version for Econometrics.jl is compatible with the environment in use.","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"The package manager allows for other experiences such as using the development version of the package through","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"]add Econometrics#master","category":"page"},{"location":"getting_started/#Data","page":"Getting Started","title":"Data","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"Econometrics.jl relies on users being able to pass in data for estimating the various models. This package allows for data to be passed through any tabular representation that implements the Tables.jl API. For example, a DataFrame from DataFrames.jl is a common solution for in-memory tabular data that implements the Tables.jl API.","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"The second assumption Econometrics.jl makes about the data is that categorical data uses the CategoricalArrays.jl representations (i.e., AbstractCategoricalVector, CategoricalValue).","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"Lastly, the package currently assumes in-memory data.","category":"page"},{"location":"getting_started/#Specifying-a-Model","page":"Getting Started","title":"Specifying a Model","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"Statistical models use a formula with formulae syntax to specify the relation among the various features. For example, Econometrics.jl uses the following syntax","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"modelformula = @formula(response ~ exogenous + (endogenous ~ instruments) + absorb(high_dimensional_controls))","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"where the right-hand side is the response and the left-hand side has","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"exogenous variables\npotentially endogenous features and additional instruments\nhigh dimensional controls","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"Formulas also allow for passing special terms such as interactions and special terms (e.g., lag, lead, poly). These have limited support at the moment.","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"For more information on the formulae implementation see StatsModels.jl.","category":"page"},{"location":"getting_started/#Statistical-Model-API","page":"Getting Started","title":"Statistical Model API","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"Econometrics.jl implements a subset of the abstraction for statistical models provided by StatsBase.jl. This API allows for a consistent API across the statitics ecosystem. It is common practice for various packages to implement different models/estimators. However, these can interacted uniformly with similar syntax.","category":"page"},{"location":"getting_started/#Estimating-a-model","page":"Getting Started","title":"Estimating a model","text":"","category":"section"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"model = fit(ModelType, # package specific type\n            formula, # @formula(lhs ~ rhs)\n            data, # a table\n            args..., # model or fitting specific arguments\n            kwargs... # model or fitting specific keyword arguments\n            )","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"or","category":"page"},{"location":"getting_started/","page":"Getting Started","title":"Getting Started","text":"model = ModelType(formula, data, args...; kwargs...)\nfit!(model, args..., kwargs...)\ncoeftable(model, args..., kwargs...)","category":"page"},{"location":"estimators/#Estimators","page":"Estimators","title":"Estimators","text":"","category":"section"},{"location":"estimators/#The-Basics","page":"Estimators","title":"The Basics","text":"","category":"section"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"Regression analysis assumes a model for the data generation process of some outcome. For example, the Mincer earnings function assumes that earnings are a function of schooling and experience.","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"beginequation\nbeginaligned\n  ln(textwage) = beta_0 + beta_1text schooling + beta_2text experience + beta_3text (experience)^2 + varepsilon\n  varepsilon sim mathcalNleft(mu sigma^2right)\nendaligned\nendequation","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"The response variable, earnings, is usually log-normal distributed (Clementi and Gallegati 2005). In addition, earnings are non-negative and assuming the sample has positive earnings a useful transformation is to take the natural log-normal distributed response. Schooling is commonly measured in years of schooling and experience as the number of years in the labor market. The model assumes a polynomial relationship between years of experience and the log of earnings of degree two.","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"How could we use Econometrics.jl to analyze such a model?","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"We can use the RDatasets package for accessing various example datasets.","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"The following line loads packages for the tutorial.","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"using CSV, RDatasets, Econometrics","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"We can load the PSID dataset from the Ecdat R package.","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"data = RDatasets.dataset(\"Ecdat\", \"PSID\")\ndata = data[data.Earnings .> 0 .&\n            data.Kids .< 98,:] # Only those with earnings and valid number of kids","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"3652×8 DataFrame\n  Row │ IntNum  PersNum  Age    Educatn  Earnings  Hours  Kids   Married\n      │ Int32   Int32    Int32  Int32?   Int32     Int32  Int32  Cat…\n──────┼────────────────────────────────────────────────────────────────────\n    1 │      4        4     39       12     77250   2940      2  married\n    2 │      4        6     35       12     12000   2040      2  divorced\n    3 │      4        7     33       12      8000    693      1  married\n    4 │      4      173     39       10     15000   1904      2  married\n    5 │      5        2     47        9      6500   1683      5  married\n    6 │      6        4     44       12      6500   2024      2  married\n    7 │      6      172     38       16      7000   1144      3  married\n    8 │      7        4     38        9      5000   2080      4  divorced\n  ⋮   │   ⋮        ⋮       ⋮       ⋮        ⋮        ⋮      ⋮        ⋮\n 3646 │   9285        4     41        8      1800    410     98  divorced\n 3647 │   9286        2     45       12     20080   2040      2  divorced\n 3648 │   9292        2     41        6     13000   2448      5  married\n 3649 │   9297        2     42        2      3000   1040      4  married\n 3650 │   9302        1     37        8     22045   2793     98  divorced\n 3651 │   9305        2     40        6       134     30      3  married\n 3652 │   9306        2     37       17     33000   2423      4  married\n                                                          3637 rows omitted","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"Baseline model","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"model = fit(EconometricModel, # Indicates the default model\n            @formula(log(Earnings) ~ Educatn + Age + Age^2), # formula\n            data)","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"Continuous Response Model\nNumber of observations: 3652\nNull Loglikelihood: -5696.23\nLoglikelihood: -5671.17\nR-squared: 0.0136\nLR Test: 50.11 ∼ χ²(3) ⟹  Pr > χ² = 0.0000\nFormula: log(Earnings) ~ 1 + Educatn + Age + (Age ^ 2)\nVariance Covariance Estimator: OIM\n────────────────────────────────────────────────────────────────────────────────────\n                    PE           SE      t-value  Pr > |t|        2.50%       97.50%\n────────────────────────────────────────────────────────────────────────────────────\n(Intercept)   7.14834      0.957333      7.46693    <1e-12   5.27138     9.0253\nEducatn       0.00370285   0.00111874    3.30984    0.0009   0.00150944  0.00589627\nAge           0.0934537    0.0493985     1.89183    0.0586  -0.00339765  0.190305\nAge ^ 2      -0.000918383  0.000628258  -1.46179    0.1439  -0.00215015  0.000313389\n────────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/#Frequency-weights","page":"Estimators","title":"Frequency weights","text":"","category":"section"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"We can also specify observation weights,","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"model = fit(EconometricModel,\n            @formula(log(Earnings) ~ Educatn + Age + Age^2),\n            data,\n            wts = :PersNum, # frequency weights\n            )","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"Continuous Response Model\nNumber of observations: 223174\nNull Loglikelihood: -6746726.41\nLoglikelihood: -349853.81\nR-squared: 0.0064\nLR Test: 12793745.20 ∼ χ²(3) ⟹  Pr > χ² = 0.0000\nFormula: log(Earnings) ~ 1 + Educatn + Age + (Age ^ 2)\nVariance Covariance Estimator: OIM\n────────────────────────────────────────────────────────────────────────────────────\n                    PE           SE      t-value  Pr > |t|         2.50%      97.50%\n────────────────────────────────────────────────────────────────────────────────────\n(Intercept)   8.50901      0.131474     64.7201     <1e-99   8.25132      8.7667\nEducatn       0.00117042   0.000140001   8.36006    <1e-16   0.000896017  0.00144481\nAge           0.0305687    0.00686287    4.45422    <1e-5    0.0171177    0.0440198\nAge ^ 2      -0.000167677  8.8448e-5    -1.89576    0.0580  -0.000341032  5.67929e-6\n────────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/#Categorical-variables","page":"Estimators","title":"Categorical variables","text":"","category":"section"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"Categorical variables can be passed through a contrast or if the feature is coded as a categorical variables it will be handled as categorical.","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"model = fit(EconometricModel,\n            @formula(log(Earnings) ~ Educatn + Age + Age^2 + Kids),\n            data,\n            wts = :PersNum,\n            contrasts = Dict(:Kids => DummyCoding()))","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"Continuous Response Model\nNumber of observations: 223174\nNull Loglikelihood: -6746726.41\nLoglikelihood: -345253.18\nR-squared: 0.0466\nLR Test: 12802946.46 ∼ χ²(15) ⟹  Pr > χ² = 0.0000\nFormula: log(Earnings) ~ 1 + Educatn + Age + (Age ^ 2) + Kids\nVariance Covariance Estimator: OIM\n────────────────────────────────────────────────────────────────────────────────────────\n                    PE           SE        t-value  Pr > |t|         2.50%        97.50%\n────────────────────────────────────────────────────────────────────────────────────────\n(Intercept)   8.55057      0.131389      65.0782      <1e-99   8.29306       8.80809\nEducatn       0.000538588  0.000138739    3.88203     0.0001   0.000266663   0.000810512\nAge           0.0389003    0.0068679      5.66408     <1e-7    0.0254394     0.0523613\nAge ^ 2      -0.000191192  8.86411e-5    -2.15692     0.0310  -0.000364926  -1.74575e-5\nKids: 1      -0.132069     0.00828577   -15.9392      <1e-56  -0.148309     -0.115829\nKids: 2      -0.290339     0.00727643   -39.9013      <1e-99  -0.304601     -0.276078\nKids: 3      -0.529931     0.00820589   -64.5793      <1e-99  -0.546014     -0.513848\nKids: 4      -0.710859     0.011204     -63.447       <1e-99  -0.732818     -0.688899\nKids: 5      -0.491404     0.0180217    -27.2673      <1e-99  -0.526726     -0.456082\nKids: 6      -1.47718      0.0381049    -38.7663      <1e-99  -1.55187      -1.4025\nKids: 7      -0.242236     0.0609217     -3.97619     <1e-4   -0.361641     -0.122831\nKids: 8      -1.53682      0.328191      -4.68271     <1e-5   -2.18007      -0.893577\nKids: 9      -0.209419     1.13675       -0.184226    0.8538  -2.43741       2.01858\nKids: 10      0.62745      0.50838        1.23421     0.2171  -0.368963      1.62386\nKids: 98     -0.71333      0.0186111    -38.3281      <1e-99  -0.749807     -0.676853\nKids: 99     -1.02093      0.0252724    -40.3971      <1e-99  -1.07046      -0.971397\n────────────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/#Absorbing-features","page":"Estimators","title":"Absorbing features","text":"","category":"section"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"If one only care about the estimates of a subset of features and controls such as number of kids (as categorical), one can absorb those features,","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"model = fit(EconometricModel,\n            @formula(log(Earnings) ~ Educatn + Age + Age^2 + absorb(Kids)),\n            data,\n            wts = :PersNum)","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"Continuous Response Model\nNumber of observations: 223174\nNull Loglikelihood: -6746726.41\nLoglikelihood: -345253.18\nR-squared: 0.0466\nWald: 860.46 ∼ F(3, 223158) ⟹ Pr > F = 0.0000\nFormula: log(Earnings) ~ 1 + Educatn + Age + (Age ^ 2) + absorb(Kids)\nVariance Covariance Estimator: OIM\n──────────────────────────────────────────────────────────────────────────────────────\n                    PE           SE      t-value  Pr > |t|         2.50%        97.50%\n──────────────────────────────────────────────────────────────────────────────────────\n(Intercept)   8.23837      0.13135      62.721      <1e-99   7.98093       8.49581\nEducatn       0.000538588  0.000138739   3.88203    0.0001   0.000266663   0.000810512\nAge           0.0389003    0.0068679     5.66408    <1e-7    0.0254394     0.0523613\nAge ^ 2      -0.000191192  8.86411e-5   -2.15692    0.0310  -0.000364926  -1.74575e-5\n──────────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/#Variance-Covariance-Estimators","page":"Estimators","title":"Variance Covariance Estimators","text":"","category":"section"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"Various variance-covariance estimators are available for continous response models.","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"For example,","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"vcov(model, HC0)","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"4×4 Hermitian{Float64,Array{Float64,2}}:\n  0.000304618  -1.6099e-8    -1.60138e-5    2.07213e-7\n -1.6099e-8     2.51577e-10   6.23515e-10  -8.35769e-12\n -1.60138e-5    6.23515e-10   8.46239e-7   -1.10009e-8\n  2.07213e-7   -8.35769e-12  -1.10009e-8    1.4367e-10","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"vcov(model, HC1)","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"4×4 Hermitian{Float64,Array{Float64,2}}:\n  0.00030464  -1.61001e-8   -1.6015e-5    2.07228e-7\n -1.61001e-8   2.51595e-10   6.2356e-10  -8.35829e-12\n -1.6015e-5    6.2356e-10    8.463e-7    -1.10017e-8\n  2.07228e-7  -8.35829e-12  -1.10017e-8   1.4368e-10","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"vcov(model, HC2)","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"4×4 Hermitian{Float64,Array{Float64,2}}:\n  0.000305269  -1.62242e-8   -1.60486e-5    2.07673e-7\n -1.62242e-8    2.53522e-10   6.28483e-10  -8.41935e-12\n -1.60486e-5    6.28483e-10   8.48106e-7   -1.10257e-8\n  2.07673e-7   -8.41935e-12  -1.10257e-8    1.43999e-10","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"vcov(model, HC3)","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"4×4 Hermitian{Float64,Array{Float64,2}}:\n  0.000305927  -1.63508e-8   -1.60838e-5   2.08138e-7\n -1.63508e-8    2.55503e-10   6.3349e-10  -8.48145e-12\n -1.60838e-5    6.3349e-10    8.49996e-7  -1.10508e-8\n  2.08138e-7   -8.48145e-12  -1.10508e-8   1.44333e-10","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"vcov(model, HC4)","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"4×4 Hermitian{Float64,Array{Float64,2}}:\n  0.000307226  -1.66052e-8   -1.61533e-5    2.09058e-7\n -1.66052e-8    2.59567e-10   6.43482e-10  -8.60518e-12\n -1.61533e-5    6.43482e-10   8.53731e-7   -1.11003e-8\n  2.09058e-7   -8.60518e-12  -1.11003e-8    1.44993e-10","category":"page"},{"location":"estimators/#Longitudinal-Data","page":"Estimators","title":"Longitudinal Data","text":"","category":"section"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"Longitudinal data is when a sample contains repeated measurements of the unit of observation. This kind of data allows for various estimators that make use of such a structure.","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"Example,","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"data = RDatasets.dataset(\"Ecdat\", \"Crime\") |>\n  (data -> select(data, [:County, :Year, :CRMRTE, :PrbConv, :AvgSen, :PrbPris]))","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"630×6 DataFrame\n Row │ County  Year   CRMRTE     PrbConv   AvgSen   PrbPris\n     │ Int32   Int32  Float64    Float64   Float64  Float64\n─────┼───────────────────────────────────────────────────────\n   1 │      1     81  0.0398849  0.402062     5.61  0.472222\n   2 │      1     82  0.0383449  0.433005     5.59  0.506993\n   3 │      1     83  0.0303048  0.525703     5.8   0.479705\n   4 │      1     84  0.0347259  0.604706     6.89  0.520104\n   5 │      1     85  0.036573   0.578723     6.55  0.497059\n   6 │      1     86  0.0347524  0.512324     6.9   0.439863\n   7 │      1     87  0.0356036  0.527596     6.71  0.43617\n   8 │      3     81  0.0163921  0.869048     8.45  0.465753\n  ⋮  │   ⋮       ⋮        ⋮         ⋮         ⋮        ⋮\n 624 │    197     81  0.0178621  1.06098     11.35  0.356322\n 625 │    197     82  0.0180711  0.545455     6.64  0.363636\n 626 │    197     83  0.0155747  0.480392     7.77  0.428571\n 627 │    197     84  0.0136619  1.41026     10.11  0.372727\n 628 │    197     85  0.0130857  0.830769     5.96  0.333333\n 629 │    197     86  0.012874   2.25         7.68  0.244444\n 630 │    197     87  0.0141928  1.18293     12.23  0.360825\n                                             615 rows omitted","category":"page"},{"location":"estimators/#The-Between-estimator","page":"Estimators","title":"The Between estimator","text":"","category":"section"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"model = fit(BetweenEstimator, # Indicates the between estimator\n            @formula(CRMRTE ~ PrbConv + AvgSen + PrbPris),\n            data,\n            panel = :County)","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"Between Estimator\nCounty with 630 groups\nBalanced groups with size 7\nNumber of observations: 90\nNull Loglikelihood: 239.56\nLoglikelihood: 244.40\nR-squared: 0.1029\nWald: 3.29 ∼ F(3, 86) ⟹ Pr > F = 0.0246\nFormula: CRMRTE ~ 1 + PrbConv + AvgSen + PrbPris\nVariance Covariance Estimator: OIM\n───────────────────────────────────────────────────────────────────────────────────\n                    PE          SE       t-value  Pr > |t|        2.50%      97.50%\n───────────────────────────────────────────────────────────────────────────────────\n(Intercept)  -0.00464339   0.0186571   -0.24888     0.8040  -0.0417325   0.0324457\nPrbConv      -0.00354113   0.0018904   -1.87322     0.0644  -0.00729911  0.00021685\nAvgSen        0.000848049  0.00116477   0.728086    0.4685  -0.00146743  0.00316353\nPrbPris       0.0730299    0.0332057    2.19932     0.0305   0.0070191   0.139041\n───────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/#The-Within-estimator-(Fixed-Effects)","page":"Estimators","title":"The Within estimator (Fixed Effects)","text":"","category":"section"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"model = fit(EconometricModel,\n            @formula(CRMRTE ~ PrbConv + AvgSen + PrbPris + absorb(County)),\n            data)","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"Continuous Response Model\nNumber of observations: 630\nNull Loglikelihood: 1633.30\nLoglikelihood: 2273.95\nR-squared: 0.8707\nWald: 0.16 ∼ F(3, 537) ⟹ Pr > F = 0.9258\nFormula: CRMRTE ~ 1 + PrbConv + AvgSen + PrbPris + absorb(County)\nVariance Covariance Estimator: OIM\n──────────────────────────────────────────────────────────────────────────────────────\n                   PE           SE        t-value  Pr > |t|         2.50%       97.50%\n──────────────────────────────────────────────────────────────────────────────────────\n(Intercept)   0.0314527   0.00204638   15.3699       <1e-43   0.0274328    0.0354726\nPrbConv       6.65981e-6  0.0001985     0.0335507    0.9732  -0.000383272  0.000396592\nAvgSen        7.83181e-5  0.000127904   0.612318     0.5406  -0.000172936  0.000329572\nPrbPris      -0.0013419   0.00405182   -0.331185     0.7406  -0.00930126   0.00661746\n──────────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"Absorbing the panel and temporal indicators","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"model = fit(EconometricModel,\n            @formula(CRMRTE ~ PrbConv + AvgSen + PrbPris + absorb(County + Year)),\n            data)","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"Continuous Response Model\nNumber of observations: 630\nNull Loglikelihood: 1633.30\nLoglikelihood: 2290.25\nR-squared: 0.8775\nWald: 0.23 ∼ F(3, 531) ⟹ Pr > F = 0.8767\nFormula: CRMRTE ~ 1 + PrbConv + AvgSen + PrbPris + absorb(County + Year)\nVariance Covariance Estimator: OIM\n──────────────────────────────────────────────────────────────────────────────────────\n                    PE           SE       t-value  Pr > |t|         2.50%       97.50%\n──────────────────────────────────────────────────────────────────────────────────────\n(Intercept)   0.0319651    0.00206378   15.4886      <1e-44   0.027911     0.0360193\nPrbConv       7.90362e-5   0.000196089   0.403062    0.6871  -0.00030617   0.000464242\nAvgSen       -9.4788e-5    0.000134924  -0.702531    0.4827  -0.000359838  0.000170262\nPrbPris       0.000979533  0.0040432     0.242267    0.8087  -0.00696309   0.00892216\n──────────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/#The-random-effects-model-à-la-Swamy-Arora","page":"Estimators","title":"The random effects model à la Swamy-Arora","text":"","category":"section"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"model = fit(RandomEffectsEstimator, # Indicates the random effects estimator\n            @formula(CRMRTE ~ PrbConv + AvgSen + PrbPris),\n            data,\n            panel = :County,\n            time = :Year)","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"One-way Random Effect Model\nLongitudinal dataset: County, Year\nBalanced dataset with 90 panels of length 7\nindividual error component: 0.0162\nidiosyncratic error component: 0.0071\nρ: 0.8399\nNumber of observations: 630\nNull Loglikelihood: 2225.79\nLoglikelihood: 2226.01\nR-squared: 0.0007\nWald: 0.15 ∼ F(3, 626) ⟹ Pr > F = 0.9291\nFormula: CRMRTE ~ PrbConv + AvgSen + PrbPris\nVariance Covariance Estimator: OIM\n──────────────────────────────────────────────────────────────────────────────────────\n                    PE           SE       t-value  Pr > |t|         2.50%       97.50%\n──────────────────────────────────────────────────────────────────────────────────────\n(Intercept)   0.0309293    0.00266706   11.5968      <1e-27   0.0256918    0.0361668\nPrbConv      -3.96634e-5   0.000198471  -0.199845    0.8417  -0.000429413  0.000350086\nAvgSen        8.2428e-5    0.000127818   0.644887    0.5192  -0.000168575  0.000333431\nPrbPris      -0.000123327  0.00404272   -0.030506    0.9757  -0.00806226   0.00781561\n──────────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/#Instrumental-Variables","page":"Estimators","title":"Instrumental Variables","text":"","category":"section"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"Instrumental variables models are estimated using the 2SLS estimator.","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"model = fit(RandomEffectsEstimator,\n            @formula(CRMRTE ~ PrbConv + (AvgSen ~ PrbPris)),\n            data,\n            panel = :County,\n            time = :Year)","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"One-way Random Effect Model\nLongitudinal dataset: County, Year\nBalanced dataset with 90 panels of length 7\nindividual error component: 0.0413\nidiosyncratic error component: 0.0074\nρ: 0.9691\nNumber of observations: 630\nNull Loglikelihood: 2268.01\nLoglikelihood: 2248.34\nR-squared: NaN\nWald: 0.03 ∼ F(2, 626) ⟹ Pr > F = 0.9671\nFormula: CRMRTE ~ PrbConv + (AvgSen ~ PrbPris)\nVariance Covariance Estimator: OIM\n───────────────────────────────────────────────────────────────────────────────────────\n                    PE           SE        t-value  Pr > |t|         2.50%       97.50%\n───────────────────────────────────────────────────────────────────────────────────────\n(Intercept)   0.037747     0.0241684     1.56183      0.1188  -0.00971405   0.085208\nPrbConv       1.39581e-5   0.000200244   0.0697054    0.9445  -0.000379273  0.000407189\nAvgSen       -0.000688924  0.00266514   -0.258494     0.7961  -0.00592262   0.00454478\n───────────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/#Nominal-Response-Models","page":"Estimators","title":"Nominal Response Models","text":"","category":"section"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"data = CSV.read(joinpath(pkgdir(Econometrics), \"data\", \"insure.csv\"), DataFrame) |>\n   (data -> select(data, [:insure, :age, :male, :nonwhite, :site])) |>\n   dropmissing |>\n   (data -> transform!(data, [:insure, :site] .=> categorical, renamecols = false))","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"615×5 DataFrame\n Row │ insure     age      male   nonwhite  site\n     │ Cat…       Float64  Int64  Int64     Cat…\n─────┼───────────────────────────────────────────\n   1 │ Indemnity  73.7221      0         0  2\n   2 │ Prepaid    27.8959      0         0  2\n   3 │ Indemnity  37.5414      0         0  1\n   4 │ Prepaid    23.6413      0         1  3\n   5 │ Prepaid    29.6838      0         0  2\n   6 │ Prepaid    39.4689      0         0  2\n   7 │ Uninsure   63.102       0         1  3\n   8 │ Prepaid    69.8398      0         0  1\n  ⋮  │     ⋮         ⋮       ⋮       ⋮       ⋮\n 609 │ Prepaid    69.9877      0         0  1\n 610 │ Prepaid    71.5209      0         0  3\n 611 │ Prepaid    63.4168      0         0  2\n 612 │ Prepaid    40.3532      0         1  1\n 613 │ Prepaid    55.3237      1         0  3\n 614 │ Prepaid    27.9836      1         0  3\n 615 │ Prepaid    30.59        1         0  3\n                                 600 rows omitted","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"The model automatically detects that the response is nominal and uses the correct model.","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"model = fit(EconometricModel,\n            @formula(insure ~ age + male + nonwhite + site),\n            data,\n            contrasts = Dict(:insure => DummyCoding(base = \"Uninsure\")))","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"Probability Model for Nominal Response\nCategories: Uninsure, Indemnity, Prepaid\nNumber of observations: 615\nNull Loglikelihood: -555.85\nLoglikelihood: -534.36\nR-squared: 0.0387\nLR Test: 42.99 ∼ χ²(10) ⟹ Pr > χ² = 0.0000\nFormula: insure ~ 1 + age + male + nonwhite + site\n───────────────────────────────────────────────────────────────────────────────────────────────────\n                                       PE         SE       t-value  Pr > |t|       2.50%     97.50%\n───────────────────────────────────────────────────────────────────────────────────────────────────\ninsure: Indemnity ~ (Intercept)   1.28694     0.59232     2.17271     0.0302   0.123689   2.4502\ninsure: Indemnity ~ age           0.00779612  0.0114418   0.681372    0.4959  -0.0146743  0.0302666\ninsure: Indemnity ~ male         -0.451848    0.367486   -1.22957     0.2193  -1.17355    0.269855\ninsure: Indemnity ~ nonwhite     -0.217059    0.425636   -0.509965    0.6103  -1.05296    0.618843\ninsure: Indemnity ~ site: 2       1.21152     0.470506    2.57493     0.0103   0.287497   2.13554\ninsure: Indemnity ~ site: 3       0.207813    0.366293    0.56734     0.5707  -0.511547   0.927172\ninsure: Prepaid ~ (Intercept)     1.55666     0.596327    2.61041     0.0093   0.385533   2.72778\ninsure: Prepaid ~ age            -0.00394887  0.0115993  -0.340439    0.7336  -0.0267287  0.018831\ninsure: Prepaid ~ male            0.109846    0.365187    0.300793    0.7637  -0.607343   0.827035\ninsure: Prepaid ~ nonwhite        0.757718    0.419575    1.80592     0.0714  -0.0662835  1.58172\ninsure: Prepaid ~ site: 2         1.32456     0.469789    2.81947     0.0050   0.401941   2.24717\ninsure: Prepaid ~ site: 3        -0.380175    0.372819   -1.01973     0.3083  -1.11235    0.352001\n───────────────────────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/#Ordinal-Response-Models","page":"Estimators","title":"Ordinal Response Models","text":"","category":"section"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"data = RDatasets.dataset(\"Ecdat\", \"Kakadu\") |>\n       (data -> select(data, [:RecParks, :Sex, :Age, :Schooling]))\ndata.RecParks = convert(Vector{Int}, data.RecParks)\ndata.RecParks = levels!(categorical(data.RecParks, ordered = true, compress = true), collect(1:5))\ndata","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"1827×4 DataFrame\n  Row │ RecParks  Sex     Age    Schooling\n      │ Cat…      Cat…    Int32  Int32\n──────┼────────────────────────────────────\n    1 │ 3         male       27          3\n    2 │ 5         female     32          4\n    3 │ 4         male       32          4\n    4 │ 1         female     70          6\n    5 │ 2         male       32          5\n    6 │ 3         male       47          6\n    7 │ 1         male       42          5\n    8 │ 5         female     70          3\n  ⋮   │    ⋮        ⋮       ⋮        ⋮\n 1821 │ 4         male       21          5\n 1822 │ 3         male       21          3\n 1823 │ 3         male       52          4\n 1824 │ 2         female     21          3\n 1825 │ 5         female     21          2\n 1826 │ 1         female     21          4\n 1827 │ 4         male       21          5\n                          1812 rows omitted","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"The model automatically detects that the response is ordinal and uses the correct model.","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"model = fit(EconometricModel,\n            @formula(RecParks ~ Age + Sex + Schooling),\n            data)","category":"page"},{"location":"estimators/","page":"Estimators","title":"Estimators","text":"Probability Model for Ordinal Response\nCategories: 1 < 2 < 3 < 4 < 5\nNumber of observations: 1827\nNull Loglikelihood: -2677.60\nLoglikelihood: -2657.40\nR-squared: 0.0075\nLR Test: 40.42 ∼ χ²(3) ⟹ Pr > χ² = 0.0000\nFormula: RecParks ~ Age + Sex + Schooling\n──────────────────────────────────────────────────────────────────────────────────────────\n                          PE          SE        t-value  Pr > |t|        2.50%      97.50%\n──────────────────────────────────────────────────────────────────────────────────────────\nAge                  0.00943647  0.00254031    3.71469     0.0002   0.00445424   0.0144187\nSex: male           -0.0151659   0.0846365    -0.179188    0.8578  -0.181161     0.150829\nSchooling           -0.103902    0.0248742    -4.17711     <1e-4   -0.152687    -0.0551174\n(Intercept): 1 | 2  -2.92405     0.191927    -15.2352      <1e-48  -3.30047     -2.54763\n(Intercept): 2 | 3  -1.54922     0.171444     -9.03632     <1e-18  -1.88547     -1.21297\n(Intercept): 3 | 4  -0.298938    0.166904     -1.79108     0.0734  -0.626281     0.0284051\n(Intercept): 4 | 5   0.669835    0.167622      3.9961      <1e-4    0.341083     0.998587\n──────────────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"#Econometrics.jl","page":"Introduction","title":"Econometrics.jl","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"This package provides the functionality to estimate the following regression models:","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"Continuous Response Models\nOrdinary Least Squares (Stata's reg/ivregress 2sls)\nLongitudinal estimators\nRandom effects model à la Swamy Arora (Stata's xtreg/xtivreg)\nBetween estimator (Stata's xtreg, be)\nNominal Response Model\nMultinomial logistic (softmax) regression (Stata's mlogit)\nOrdinal Response Model\nProportional Odds Logistic Regression (Stata's ologit)","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"In addition, models incorporate the following features:","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"Implements the StatsBase.jl StatisticalModel/RegressionModel API\nSupport for frequency weights\nRobust Variance Covariance Estimators (e.g., heteroscedasticity consistent)\nInstrumental Variables Model through Two-Stage Least Squares (2SLS)\nFeature absorption for estimating a subset of parameters with high dimensional fixed effects as controls efficiently","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"Citation","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"Please use the following reference when citing this package:","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"(Image: Publication)","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"@article{SantiagoCalderón2020,\n  author = {Santiago Calderón, José Bayoán},\n  title = {Econometrics.jl},\n  journal = {Proceedings of the JuliaCon Conferences},\n  publisher = {The Open Journal},\n  year = {2020},\n  volume = {1},\n  number = {1},\n  pages = {38},\n  doi = {10.21105/jcon.00038}\n}","category":"page"}]
}
