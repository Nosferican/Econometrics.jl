var documenterSearchIndex = {"docs":
[{"location":"public_api/#Public-API-1","page":"Public API","title":"Public API","text":"","category":"section"},{"location":"public_api/#","page":"Public API","title":"Public API","text":"absorb\nEconometricModel\nBetweenEstimator\nRandomEffectsEstimator\nEconometrics.VCE","category":"page"},{"location":"public_api/#Econometrics.absorb","page":"Public API","title":"Econometrics.absorb","text":"absorb\n\nFunction for constructing the FunctionTerm{typeof(absorb)} used in decompose.\n\n\n\n\n\n","category":"function"},{"location":"public_api/#Econometrics.EconometricModel","page":"Public API","title":"Econometrics.EconometricModel","text":"EconometricModel(f::FormulaTerm, data;\n                 contrasts::Dict{Symbol} = Dict{Symbol,Union{<:AbstractContrasts,<:AbstractTerm}},\n                 weights::Union{Nothing,Symbol} = nothing,\n                 panel::Union{Nothing,Symbol} = nothing,\n                 time::Union{Nothing,Symbol} = nothing,\n                 estimator::ModelEstimator = ModelEstimator)\n\nFormula has syntax:\n\n@formula(response ~ exogenous + (endogenous ~ instruments) + absorb(highdimscontrols))\n\nData must implement the Tables.jl API and use CategoricalArrays (CategoricalVector)\n\nWeights are taken as StatsBase.FrequencyWeights\n\nPanel and time indicators are used for longitudinal estimators\n\nExamples\n\nmodel = fit(EconometricModel, formula, data, kwargs...)\nmodel = fit(BetweenEstimator, formula, data, panel = :panel, kwargs...)\nmodel = fit(RandomEffectsEstimator, formula, data, panel = :panel, time = :time, kwargs...)\n\n\n\n\n\n","category":"type"},{"location":"public_api/#Econometrics.BetweenEstimator","page":"Public API","title":"Econometrics.BetweenEstimator","text":"BetweenEstimator(effect::Symbol,\n                 groups::Vector{Vector{Int}}) <: LinearModelEstimators\n\nContinuous response estimator collapsing a dimension in a longitudinal setting.\n\n\n\n\n\n","category":"type"},{"location":"public_api/#Econometrics.RandomEffectsEstimator","page":"Public API","title":"Econometrics.RandomEffectsEstimator","text":"RandomEffectsEstimator(pid::Tuple{Symbol,Vector{Vector{Int}}},\n                       tid::Tuple{Symbol,Vector{Vector{Int}}},\n                       idiosyncratic::Float64,\n                       individual::Float64,\n                       θ::Vector{Float64}) <: LinearModelEstimators\n\nSwamy-Arora estimator.\n\n\n\n\n\n","category":"type"},{"location":"public_api/#Econometrics.VCE","page":"Public API","title":"Econometrics.VCE","text":"VCE\n\nVariance-covariance estimators.\n\nObserved Information Matrix (OIM)\nHeteroscedasticity Consistent: HC0, HC1, HC2, HC3, HC4\n\n\n\n\n\n","category":"type"},{"location":"getting_started/#Getting-Started-1","page":"Getting Started","title":"Getting Started","text":"","category":"section"},{"location":"getting_started/#Installation-1","page":"Getting Started","title":"Installation","text":"","category":"section"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"Econometrics.jl is registered with the Julia's General registry.","category":"page"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"For installing the package, users can use Julia's package manager.","category":"page"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"using Pkg; Pkg.add(\"Econometrics\") # one alternative\n]add Econometrics # same as the line above","category":"page"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"The package manager will automatically resolve which release version for Econometrics.jl is compatible with the environment in use.","category":"page"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"The package manager allows for other experiences such as using the development version of the package through","category":"page"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"]add Econometrics#master","category":"page"},{"location":"getting_started/#Data-1","page":"Getting Started","title":"Data","text":"","category":"section"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"Econometrics.jl relies on users being able to pass in data for estimating the various models. This package allows for data to be passed through any tabular representation that implements the Tables.jl API. For example, a DataFrame from DataFrames.jl is a common solution for in-memory tabular data that implements the Tables.jl API.","category":"page"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"The second assumption Econometrics.jl makes about the data is that categorical data uses the CategoricalArrays.jl representations (i.e., AbstractCategoricalVector, CategoricalValue).","category":"page"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"Lastly, the package currently assumes in-memory data.","category":"page"},{"location":"getting_started/#Specifying-a-Model-1","page":"Getting Started","title":"Specifying a Model","text":"","category":"section"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"Statistical models use a formula with formulae syntax to specify the relation among the various features. For example, Econometrics.jl uses the following syntax","category":"page"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"modelformula = @formula(response ~ exogenous + (endogenous ~ instruments) + absorb(high_dimensional_controls))","category":"page"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"where the right-hand side is the response and the left-hand side has","category":"page"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"exogenous variables\npotentially endogenous features and additional instruments\nhigh dimensional controls","category":"page"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"Formulas also allow for passing special terms such as interactions and special terms (e.g., lag, lead, poly). These have limited support at the moment.","category":"page"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"For more information on the formulae implementation see StatsModels.jl.","category":"page"},{"location":"getting_started/#Statistical-Model-API-1","page":"Getting Started","title":"Statistical Model API","text":"","category":"section"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"Econometrics.jl implements a subset of the abstraction for statistical models provided by StatsBase.jl. This API allows for a consistent API across the statitics ecosystem. It is common practice for various packages to implement different models/estimators. However, these can interacted uniformly with similar syntax.","category":"page"},{"location":"getting_started/#Estimating-a-model-1","page":"Getting Started","title":"Estimating a model","text":"","category":"section"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"model = fit(ModelType, # package specific type\n            formula, # @formula(lhs ~ rhs)\n            data, # a table\n            args..., # model or fitting specific arguments\n            kwargs... # model or fitting specific keyword arguments\n            )","category":"page"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"or","category":"page"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"model = ModelType(formula, data, args...; kwargs...)\nfit!(model, args..., kwargs...)\ncoeftable(model, args..., kwargs...)","category":"page"},{"location":"getting_started/#Querying-a-model-1","page":"Getting Started","title":"Querying a model","text":"","category":"section"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"After estimating a model, the API can be used to query it uniformly.","category":"page"},{"location":"getting_started/#Statistics-1","page":"Getting Started","title":"Statistics","text":"","category":"section"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"aic\naicc\nbic\ndeviance\nnulldeviance\nloglikelihood\nnullloglikelihood\nr2\nadjr2\nmss\nrss\nnobs\ndof\ndof_residual\nislinear","category":"page"},{"location":"getting_started/#StatsBase.aic","page":"Getting Started","title":"StatsBase.aic","text":"aic(obj::StatisticalModel)\n\nAkaike's Information Criterion, defined as -2 log L + 2k, with L the likelihood of the model, and k its number of consumed degrees of freedom (as returned by dof).\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.aicc","page":"Getting Started","title":"StatsBase.aicc","text":"aicc(obj::StatisticalModel)\n\nCorrected Akaike's Information Criterion for small sample sizes (Hurvich and Tsai 1989), defined as -2 log L + 2k + 2k(k-1)(n-k-1), with L the likelihood of the model, k its number of consumed degrees of freedom (as returned by dof), and n the number of observations (as returned by nobs).\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.bic","page":"Getting Started","title":"StatsBase.bic","text":"bic(obj::StatisticalModel)\n\nBayesian Information Criterion, defined as -2 log L + k log n, with L the likelihood of the model,  k its number of consumed degrees of freedom (as returned by dof), and n the number of observations (as returned by nobs).\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.deviance","page":"Getting Started","title":"StatsBase.deviance","text":"deviance(obj::StatisticalModel)\n\nReturn the deviance of the model relative to a reference, which is usually when applicable the saturated model. It is equal, up to a constant, to -2 log L, with L the likelihood of the model.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.nulldeviance","page":"Getting Started","title":"StatsBase.nulldeviance","text":"nulldeviance(obj::StatisticalModel)\n\nReturn the deviance of the null model, that is the one including only the intercept.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.loglikelihood","page":"Getting Started","title":"StatsBase.loglikelihood","text":"loglikelihood(obj::StatisticalModel)\n\nReturn the log-likelihood of the model.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.nullloglikelihood","page":"Getting Started","title":"StatsBase.nullloglikelihood","text":"loglikelihood(obj::StatisticalModel)\n\nReturn the log-likelihood of the null model corresponding to model obj. This is usually the model containing only the intercept.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.r2","page":"Getting Started","title":"StatsBase.r2","text":"r2(obj::StatisticalModel)\nr²(obj::StatisticalModel)\n\nCoefficient of determination (R-squared).\n\nFor a linear model, the R² is defined as ESSTSS, with ESS the explained sum of squares and TSS the total sum of squares.\n\n\n\n\n\nr2(obj::StatisticalModel, variant::Symbol)\nr²(obj::StatisticalModel, variant::Symbol)\n\nPseudo-coefficient of determination (pseudo R-squared).\n\nFor nonlinear models, one of several pseudo R² definitions must be chosen via variant. Supported variants are:\n\n:MacFadden (a.k.a. likelihood ratio index), defined as 1 - log (L)log (L_0);\n:CoxSnell, defined as 1 - (L_0L)^2n;\n:Nagelkerke, defined as (1 - (L_0L)^2n)(1 - L_0^2n).\n\nIn the above formulas, L is the likelihood of the model, L_0 is the likelihood of the null model (the model with only an intercept), n is the number of observations, y_i are the responses, haty_i are fitted values and bary is the average response.\n\nCox and Snell's R² should match the classical R² for linear models.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.adjr2","page":"Getting Started","title":"StatsBase.adjr2","text":"adjr2(obj::StatisticalModel)\nadjr²(obj::StatisticalModel)\n\nAdjusted coefficient of determination (adjusted R-squared).\n\nFor linear models, the adjusted R² is defined as 1 - (1 - (1-R^2)(n-1)(n-p)), with R^2 the coefficient of determination, n the number of observations, and p the number of coefficients (including the intercept). This definition is generally known as the Wherry Formula I.\n\n\n\n\n\nadjr2(obj::StatisticalModel, variant::Symbol)\nadjr²(obj::StatisticalModel, variant::Symbol)\n\nAdjusted pseudo-coefficient of determination (adjusted pseudo R-squared).\n\nFor nonlinear models, one of the several pseudo R² definitions must be chosen via variant. The only currently supported variant is :MacFadden, defined as 1 - (log (L) - k)log (L0). In this formula, L is the likelihood of the model, L0 that of the null model (the model including only the intercept). These two quantities are taken to be minus half deviance of the corresponding models. k is the number of consumed degrees of freedom of the model (as returned by dof).\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.mss","page":"Getting Started","title":"StatsBase.mss","text":"mss(obj::StatisticalModel)\n\nReturn the model sum of squares.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.rss","page":"Getting Started","title":"StatsBase.rss","text":"rss(obj::StatisticalModel)\n\nReturn the residual sum of squares.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.nobs","page":"Getting Started","title":"StatsBase.nobs","text":"nobs(obj::StatisticalModel)\n\nReturn the number of independent observations on which the model was fitted. Be careful when using this information, as the definition of an independent observation may vary depending on the model, on the format used to pass the data, on the sampling plan (if specified), etc.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.dof","page":"Getting Started","title":"StatsBase.dof","text":"dof(obj::StatisticalModel)\n\nReturn the number of degrees of freedom consumed in the model, including when applicable the intercept and the distribution's dispersion parameter.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.dof_residual","page":"Getting Started","title":"StatsBase.dof_residual","text":"dof_residual(obj::RegressionModel)\n\nReturn the residual degrees of freedom of the model.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.islinear","page":"Getting Started","title":"StatsBase.islinear","text":"islinear(obj::StatisticalModel)\n\nIndicate whether the model is linear.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#Components-1","page":"Getting Started","title":"Components","text":"","category":"section"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"coef\ncoefnames\nconfint(obj::EconometricModel)\ninformationmatrix\nvcov(obj::EconometricModel)\nstderror(obj::EconometricModel)\nweights(obj::StatisticalModel)\nresponse\nmeanresponse\nfitted\nmodelmatrix\nleverage\nresiduals","category":"page"},{"location":"getting_started/#StatsBase.coef","page":"Getting Started","title":"StatsBase.coef","text":"coef(obj::StatisticalModel)\n\nReturn the coefficients of the model.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.coefnames","page":"Getting Started","title":"StatsBase.coefnames","text":"coefnames(obj::StatisticalModel)\n\nReturn the names of the coefficients.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.confint-Tuple{EconometricModel}","page":"Getting Started","title":"StatsBase.confint","text":"confint(obj::EconometricModel; se::AbstractVector{<:Real} = stderror(obj), level::Real = 0.95)\n\nCompute the confidence intervals for coefficients, with confidence level level (by default, 95%). se can be provided as a precomputed value.\n\n\n\n\n\n","category":"method"},{"location":"getting_started/#StatsBase.informationmatrix","page":"Getting Started","title":"StatsBase.informationmatrix","text":"informationmatrix(model::StatisticalModel; expected::Bool = true)\n\nReturn the information matrix. By default the Fisher information matrix is returned, while the observed information matrix can be requested with expected = false.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.vcov-Tuple{EconometricModel}","page":"Getting Started","title":"StatsBase.vcov","text":"vcov(obj::EconometricModel)\nvcov(obj::EconometricModel{<:LinearModelEstimators}, vce::VCE = obj.vce)\n\nReturn the variance-covariance matrix for the coefficients of the model. The vce argument allows to request variance estimators.\n\n\n\n\n\n","category":"method"},{"location":"getting_started/#StatsBase.stderror-Tuple{EconometricModel}","page":"Getting Started","title":"StatsBase.stderror","text":"stderror(obj::StatisticalModel)\n\nReturn the standard errors for the coefficients of the model.\n\n\n\n\n\n","category":"method"},{"location":"getting_started/#StatsBase.weights-Tuple{StatisticalModel}","page":"Getting Started","title":"StatsBase.weights","text":"weights(obj::StatisticalModel)\n\nReturn the weights used in the model.\n\n\n\n\n\n","category":"method"},{"location":"getting_started/#StatsBase.response","page":"Getting Started","title":"StatsBase.response","text":"response(obj::RegressionModel)\n\nReturn the model response (a.k.a. the dependent variable).\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.meanresponse","page":"Getting Started","title":"StatsBase.meanresponse","text":"meanresponse(obj::RegressionModel)\n\nReturn the mean of the response.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.fitted","page":"Getting Started","title":"StatsBase.fitted","text":"fitted(obj::RegressionModel)\n\nReturn the fitted values of the model.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.modelmatrix","page":"Getting Started","title":"StatsBase.modelmatrix","text":"modelmatrix(obj::RegressionModel)\n\nReturn the model matrix (a.k.a. the design matrix).\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.leverage","page":"Getting Started","title":"StatsBase.leverage","text":"leverage(obj::RegressionModel)\n\nReturn the diagonal of the projection matrix.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.residuals","page":"Getting Started","title":"StatsBase.residuals","text":"residuals(obj::RegressionModel)\n\nReturn the residuals of the model.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#API-for-estimating-models-1","page":"Getting Started","title":"API for estimating models","text":"","category":"section"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"isfitted\nfit(obj::StatisticalModel)\nfit!(obj::StatisticalModel)","category":"page"},{"location":"getting_started/#StatsBase.isfitted","page":"Getting Started","title":"StatsBase.isfitted","text":"isfitted(obj::StatisticalModel)\n\nIndicate whether the model has been fitted.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#StatsBase.fit-Tuple{StatisticalModel}","page":"Getting Started","title":"StatsBase.fit","text":"Fit a statistical model.\n\n\n\n\n\n","category":"method"},{"location":"getting_started/#StatsBase.fit!-Tuple{StatisticalModel}","page":"Getting Started","title":"StatsBase.fit!","text":"Fit a statistical model in-place.\n\n\n\n\n\n","category":"method"},{"location":"getting_started/#Convenience-functions-1","page":"Getting Started","title":"Convenience functions","text":"","category":"section"},{"location":"getting_started/#","page":"Getting Started","title":"Getting Started","text":"coeftable(obj::EconometricModel)","category":"page"},{"location":"getting_started/#StatsBase.coeftable-Tuple{EconometricModel}","page":"Getting Started","title":"StatsBase.coeftable","text":"coeftable(obj::EconometricModel;\n\t\t  level::Real = 0.95)\ncoeftable(obj::EconometricModel{<:LinearModelEstimators};\n\t\t  level::Real = 0.95,\n\t\t  vce::VCE = obj.vce)\n\nReturn a table of class CoefTable with coefficients and related statistics. level determines the level for confidence intervals (by default, 95%). vce determines the variance-covariance estimator (by default, OIM).\n\n\n\n\n\n","category":"method"},{"location":"estimators/#Estimators-1","page":"Estimators","title":"Estimators","text":"","category":"section"},{"location":"estimators/#The-Basics-1","page":"Estimators","title":"The Basics","text":"","category":"section"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"Regression analysis assumes a model for the data generation process of some outcome. For example, the Mincer earnings function assumes that earnings are a function of schooling and experience.","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"beginequation\nbeginaligned\n  ln(textwage) = beta_0 + beta_1text schooling + beta_2text experience + beta_3text (experience)^2 + varepsilon\n  varepsilon sim mathcalNleft(mu sigma^2right)\nendaligned\nendequation","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"The response variable, earnings, is usually log-normal distributed (Clementi and Gallegati 2005). In addition, earnings are non-negative and assuming the sample has positive earnings a useful transformation is to take the natural log-normal distributed response. Schooling is commonly measured in years of schooling and experience as the number of years in the labor market. The model assumes a polynomial relationship between years of experience and the log of earnings of degree two.","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"How could we use Econometrics.jl to analyze such a model?","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"We can use the RDatasets package for accessing various example datasets.","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"The following line loads packages for the tutorial.","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"using CSV, RDatasets, Econometrics","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"We can load the PSID dataset from the Ecdat R package.","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"data = RDatasets.dataset(\"Ecdat\", \"PSID\")\ndata = data[data.Earnings .> 0 .&\n            data.Kids .< 98,:] # Only those with earnings and valid number of kids","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"3652×8 DataFrame. Omitted printing of 1 columns\n│ Row  │ IntNum │ PersNum │ Age   │ Educatn │ Earnings │ Hours │ Kids  │\n│      │ Int32  │ Int32   │ Int32 │ Int32⍰  │ Int32    │ Int32 │ Int32 │\n├──────┼────────┼─────────┼───────┼─────────┼──────────┼───────┼───────┤\n│ 1    │ 4      │ 4       │ 39    │ 12      │ 77250    │ 2940  │ 2     │\n│ 2    │ 4      │ 6       │ 35    │ 12      │ 12000    │ 2040  │ 2     │\n│ 3    │ 4      │ 7       │ 33    │ 12      │ 8000     │ 693   │ 1     │\n│ 4    │ 4      │ 173     │ 39    │ 10      │ 15000    │ 1904  │ 2     │\n│ 5    │ 5      │ 2       │ 47    │ 9       │ 6500     │ 1683  │ 5     │\n│ 6    │ 6      │ 4       │ 44    │ 12      │ 6500     │ 2024  │ 2     │\n│ 7    │ 6      │ 172     │ 38    │ 16      │ 7000     │ 1144  │ 3     │\n⋮\n│ 3645 │ 9284   │ 1       │ 34    │ 12      │ 300      │ 357   │ 2     │\n│ 3646 │ 9285   │ 4       │ 41    │ 8       │ 1800     │ 410   │ 98    │\n│ 3647 │ 9286   │ 2       │ 45    │ 12      │ 20080    │ 2040  │ 2     │\n│ 3648 │ 9292   │ 2       │ 41    │ 6       │ 13000    │ 2448  │ 5     │\n│ 3649 │ 9297   │ 2       │ 42    │ 2       │ 3000     │ 1040  │ 4     │\n│ 3650 │ 9302   │ 1       │ 37    │ 8       │ 22045    │ 2793  │ 98    │\n│ 3651 │ 9305   │ 2       │ 40    │ 6       │ 134      │ 30    │ 3     │\n│ 3652 │ 9306   │ 2       │ 37    │ 17      │ 33000    │ 2423  │ 4     │","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"Baseline model","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"model = fit(EconometricModel, # Indicates the default model\n            @formula(log(Earnings) ~ Educatn + Age + Age^2), # formula\n            data)","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"Continuous Response Model\nNumber of observations: 3652\nNull Loglikelihood: -5696.23\nLoglikelihood: -5672.24\nR-squared: 0.0130\nLR Test: 47.97 ∼ χ²(2) ⟹  Pr > χ² = 0.0000\nFormula: log(Earnings) ~ 1 + Educatn + Age + (Age ^ 2)\nVariance Covariance Estimator: OIM\n───────────────────────────────────────────────────────────────────────────────\n                  PE          SE      t-value  Pr > |t|       2.50%      97.50%\n───────────────────────────────────────────────────────────────────────────────\n(Intercept)  8.5336      0.135874    62.8054     <1e-99  8.2672      8.79999   \nEducatn      0.00364919  0.00111831   3.26313    0.0011  0.00145661  0.00584177\nAge          0.0214198   0.00345149   6.20595    <1e-9   0.0146528   0.0281869 \n───────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/#Frequency-weights-1","page":"Estimators","title":"Frequency weights","text":"","category":"section"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"We can also specify observation weights,","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"model = fit(EconometricModel,\n            @formula(log(Earnings) ~ Educatn + Age + Age^2),\n            data,\n            wts = :PersNum, # frequency weights\n            )","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"Continuous Response Model\nNumber of observations: 223174\nNull Loglikelihood: -6746726.41\nLoglikelihood: -349855.61\nR-squared: 0.0064\nLR Test: 12793741.60 ∼ χ²(2) ⟹  Pr > χ² = 0.0000\nFormula: log(Earnings) ~ 1 + Educatn + Age + (Age ^ 2)\nVariance Covariance Estimator: OIM\n──────────────────────────────────────────────────────────────────────────────────\n                  PE           SE       t-value  Pr > |t|        2.50%      97.50%\n──────────────────────────────────────────────────────────────────────────────────\n(Intercept)  8.75582     0.018314     478.095      <1e-99  8.71993      8.79172   \nEducatn      0.00115669  0.000139815    8.27306    <1e-15  0.000882661  0.00143073\nAge          0.0175896   0.000475299   37.0075     <1e-99  0.016658     0.0185212 \n──────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/#Categorical-variables-1","page":"Estimators","title":"Categorical variables","text":"","category":"section"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"Categorical variables can be passed through a contrast or if the feature is coded as a categorical variables it will be handled as categorical.","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"model = fit(EconometricModel,\n            @formula(log(Earnings) ~ Educatn + Age + Age^2 + Kids),\n            data,\n            wts = :PersNum,\n            contrasts = Dict(:Kids => DummyCoding()))","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"Continuous Response Model\nNumber of observations: 223174\nNull Loglikelihood: -6746726.41\nLoglikelihood: -345255.51\nR-squared: 0.0466\nLR Test: 12802941.81 ∼ χ²(14) ⟹  Pr > χ² = 0.0000\nFormula: log(Earnings) ~ 1 + Educatn + Age + (Age ^ 2) + Kids\nVariance Covariance Estimator: OIM\n────────────────────────────────────────────────────────────────────────────────────────\n                    PE           SE        t-value  Pr > |t|         2.50%        97.50%\n────────────────────────────────────────────────────────────────────────────────────────\n(Intercept)   8.83101      0.0189278    466.563       <1e-99   8.79392       8.86811    \nEducatn       0.000527666  0.000138647    3.80581     0.0001   0.000255921   0.000799411\nAge           0.0241226    0.000477043   50.5669      <1e-99   0.0231876     0.0250576  \nKids: 1      -0.132737     0.00828005   -16.031       <1e-57  -0.148966     -0.116508   \nKids: 2      -0.289845     0.00727288   -39.8528      <1e-99  -0.3041       -0.27559    \nKids: 3      -0.529532     0.00820387   -64.5466      <1e-99  -0.545611     -0.513452   \nKids: 4      -0.709826     0.0111938    -63.4122      <1e-99  -0.731765     -0.687886   \nKids: 5      -0.491939     0.0180202    -27.2994      <1e-99  -0.527258     -0.45662    \nKids: 6      -1.47304      0.0380566    -38.7064      <1e-99  -1.54763      -1.39845    \nKids: 7      -0.239153     0.0609054     -3.92662     <1e-4   -0.358526     -0.119779   \nKids: 8      -1.53553      0.328193      -4.67875     <1e-5   -2.17878      -0.892281   \nKids: 9      -0.22882      1.13672       -0.201298    0.8405  -2.45676       1.99912    \nKids: 10      0.632714     0.508379       1.24457     0.2133  -0.363696      1.62912    \nKids: 98     -0.71467      0.0186009    -38.4212      <1e-99  -0.751127     -0.678213   \nKids: 99     -1.03022      0.0249025    -41.3703      <1e-99  -1.07903      -0.981416   \n────────────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/#Absorbing-features-1","page":"Estimators","title":"Absorbing features","text":"","category":"section"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"If one only care about the estimates of a subset of features and controls such as number of kids (as categorical), one can absorb those features,","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"model = fit(EconometricModel,\n            @formula(log(Earnings) ~ Educatn + Age + Age^2 + absorb(Kids)),\n            data,\n            wts = :PersNum)","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"Continuous Response Model\nNumber of observations: 223174\nNull Loglikelihood: -6746726.41\nLoglikelihood: -345255.51\nR-squared: 0.0466\nWald: 1288.35 ∼ F(2, 223159) ⟹ Pr > F = 0.0000\nFormula: log(Earnings) ~ 1 + Educatn + Age + (Age ^ 2) + absorb(Kids)\nVariance Covariance Estimator: OIM\n────────────────────────────────────────────────────────────────────────────────────\n                   PE           SE       t-value  Pr > |t|        2.50%       97.50%\n────────────────────────────────────────────────────────────────────────────────────\n(Intercept)  8.5189       0.0183648    463.871      <1e-99  8.48291      8.55489    \nEducatn      0.000527666  0.000138647    3.80581    0.0001  0.000255921  0.000799411\nAge          0.0241226    0.000477043   50.5669     <1e-99  0.0231876    0.0250576  \n────────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/#Variance-Covariance-Estimators-1","page":"Estimators","title":"Variance Covariance Estimators","text":"","category":"section"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"Various variance-covariance estimators are available for continous response models.","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"For example,","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"vcov(model, HC0)","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"3×3 LinearAlgebra.Hermitian{Float64,Array{Float64,2}}:\n  5.85098e-6  -4.04187e-9   -1.49992e-7 \n -4.04187e-9   2.51271e-10  -1.65994e-11\n -1.49992e-7  -1.65994e-11   3.96517e-9","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"vcov(model, HC1)","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"3×3 LinearAlgebra.Hermitian{Float64,Array{Float64,2}}:\n  5.85137e-6  -4.04214e-9   -1.50002e-7 \n -4.04214e-9   2.51288e-10  -1.66005e-11\n -1.50002e-7  -1.66005e-11   3.96544e-9","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"vcov(model, HC2)","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"3×3 LinearAlgebra.Hermitian{Float64,Array{Float64,2}}:\n  5.85808e-6  -4.07891e-9   -1.50167e-7 \n -4.07891e-9   2.53125e-10  -1.62927e-11\n -1.50167e-7  -1.62927e-11   3.96972e-9","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"vcov(model, HC3)","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"3×3 LinearAlgebra.Hermitian{Float64,Array{Float64,2}}:\n  5.86524e-6  -4.11666e-9   -1.50343e-7 \n -4.11666e-9   2.55012e-10  -1.59789e-11\n -1.50343e-7  -1.59789e-11   3.97431e-9","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"vcov(model, HC4)","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"3×3 LinearAlgebra.Hermitian{Float64,Array{Float64,2}}:\n  5.87918e-6  -4.19395e-9   -1.50684e-7 \n -4.19395e-9   2.5888e-10   -1.53343e-11\n -1.50684e-7  -1.53343e-11   3.9832e-9","category":"page"},{"location":"estimators/#Longitudinal-Data-1","page":"Estimators","title":"Longitudinal Data","text":"","category":"section"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"Longitudinal data is when a sample contains repeated measurements of the unit of observation. This kind of data allows for various estimators that make use of such a structure.","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"Example,","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"data = RDatasets.dataset(\"Ecdat\", \"Crime\") |>\n  (data -> select(data, [:County, :Year, :CRMRTE, :PrbConv, :AvgSen, :PrbPris]))","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"630×6 DataFrame\n│ Row │ County │ Year  │ CRMRTE    │ PrbConv  │ AvgSen  │ PrbPris  │\n│     │ Int32  │ Int32 │ Float64   │ Float64  │ Float64 │ Float64  │\n├─────┼────────┼───────┼───────────┼──────────┼─────────┼──────────┤\n│ 1   │ 1      │ 81    │ 0.0398849 │ 0.402062 │ 5.61    │ 0.472222 │\n│ 2   │ 1      │ 82    │ 0.0383449 │ 0.433005 │ 5.59    │ 0.506993 │\n│ 3   │ 1      │ 83    │ 0.0303048 │ 0.525703 │ 5.8     │ 0.479705 │\n│ 4   │ 1      │ 84    │ 0.0347259 │ 0.604706 │ 6.89    │ 0.520104 │\n│ 5   │ 1      │ 85    │ 0.036573  │ 0.578723 │ 6.55    │ 0.497059 │\n│ 6   │ 1      │ 86    │ 0.0347524 │ 0.512324 │ 6.9     │ 0.439863 │\n│ 7   │ 1      │ 87    │ 0.0356036 │ 0.527596 │ 6.71    │ 0.43617  │\n⋮\n│ 623 │ 195    │ 87    │ 0.0313973 │ 1.67052  │ 13.02   │ 0.470588 │\n│ 624 │ 197    │ 81    │ 0.0178621 │ 1.06098  │ 11.35   │ 0.356322 │\n│ 625 │ 197    │ 82    │ 0.0180711 │ 0.545455 │ 6.64    │ 0.363636 │\n│ 626 │ 197    │ 83    │ 0.0155747 │ 0.480392 │ 7.77    │ 0.428571 │\n│ 627 │ 197    │ 84    │ 0.0136619 │ 1.41026  │ 10.11   │ 0.372727 │\n│ 628 │ 197    │ 85    │ 0.0130857 │ 0.830769 │ 5.96    │ 0.333333 │\n│ 629 │ 197    │ 86    │ 0.012874  │ 2.25     │ 7.68    │ 0.244444 │\n│ 630 │ 197    │ 87    │ 0.0141928 │ 1.18293  │ 12.23   │ 0.360825 │","category":"page"},{"location":"estimators/#The-Between-estimator-1","page":"Estimators","title":"The Between estimator","text":"","category":"section"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"model = fit(BetweenEstimator, # Indicates the between estimator\n            @formula(CRMRTE ~ PrbConv + AvgSen + PrbPris),\n            data,\n            panel = :County)","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"Between Estimator\nCounty with 630 groups\nBalanced groups with size 7\nNumber of observations: 90\nNull Loglikelihood: 239.56\nLoglikelihood: 244.40\nR-squared: 0.1029\nWald: 3.29 ∼ F(3, 86) ⟹ Pr > F = 0.0246\nFormula: CRMRTE ~ 1 + PrbConv + AvgSen + PrbPris\nVariance Covariance Estimator: OIM\n───────────────────────────────────────────────────────────────────────────────────\n                    PE          SE       t-value  Pr > |t|        2.50%      97.50%\n───────────────────────────────────────────────────────────────────────────────────\n(Intercept)  -0.00464339   0.0186571   -0.24888     0.8040  -0.0417325   0.0324457 \nPrbConv      -0.00354113   0.0018904   -1.87322     0.0644  -0.00729911  0.00021685\nAvgSen        0.000848049  0.00116477   0.728086    0.4685  -0.00146743  0.00316353\nPrbPris       0.0730299    0.0332057    2.19932     0.0305   0.0070191   0.139041  \n───────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/#The-Within-estimator-(Fixed-Effects)-1","page":"Estimators","title":"The Within estimator (Fixed Effects)","text":"","category":"section"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"model = fit(EconometricModel,\n            @formula(CRMRTE ~ PrbConv + AvgSen + PrbPris + absorb(County)),\n            data)","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"Continuous Response Model\nNumber of observations: 630\nNull Loglikelihood: 1633.30\nLoglikelihood: 2273.95\nR-squared: 0.8707\nWald: 0.16 ∼ F(3, 537) ⟹ Pr > F = 0.9258\nFormula: CRMRTE ~ 1 + PrbConv + AvgSen + PrbPris + absorb(County)\nVariance Covariance Estimator: OIM\n──────────────────────────────────────────────────────────────────────────────────────\n                   PE           SE        t-value  Pr > |t|         2.50%       97.50%\n──────────────────────────────────────────────────────────────────────────────────────\n(Intercept)   0.0314527   0.00204638   15.3699       <1e-43   0.0274328    0.0354726  \nPrbConv       6.65981e-6  0.0001985     0.0335507    0.9732  -0.000383272  0.000396592\nAvgSen        7.83181e-5  0.000127904   0.612318     0.5406  -0.000172936  0.000329572\nPrbPris      -0.0013419   0.00405182   -0.331185     0.7406  -0.00930126   0.00661746 \n──────────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"Absorbing the panel and temporal indicators","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"model = fit(EconometricModel,\n            @formula(CRMRTE ~ PrbConv + AvgSen + PrbPris + absorb(County + Year)),\n            data)","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"Continuous Response Model\nNumber of observations: 630\nNull Loglikelihood: 1633.30\nLoglikelihood: 2290.25\nR-squared: 0.8775\nWald: 0.23 ∼ F(3, 531) ⟹ Pr > F = 0.8767\nFormula: CRMRTE ~ 1 + PrbConv + AvgSen + PrbPris + absorb(County + Year)\nVariance Covariance Estimator: OIM\n──────────────────────────────────────────────────────────────────────────────────────\n                    PE           SE       t-value  Pr > |t|         2.50%       97.50%\n──────────────────────────────────────────────────────────────────────────────────────\n(Intercept)   0.0319651    0.00206378   15.4886      <1e-44   0.027911     0.0360193  \nPrbConv       7.90362e-5   0.000196089   0.403062    0.6871  -0.00030617   0.000464242\nAvgSen       -9.4788e-5    0.000134924  -0.702531    0.4827  -0.000359838  0.000170262\nPrbPris       0.000979533  0.0040432     0.242267    0.8087  -0.00696309   0.00892216 \n──────────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/#The-random-effects-model-à-la-Swamy-Arora-1","page":"Estimators","title":"The random effects model à la Swamy-Arora","text":"","category":"section"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"model = fit(RandomEffectsEstimator, # Indicates the random effects estimator\n            @formula(CRMRTE ~ PrbConv + AvgSen + PrbPris),\n            data,\n            panel = :County,\n            time = :Year)","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"One-way Random Effect Model\nLongitudinal dataset: County, Year\nBalanced dataset with 90 panels of length 7\nindividual error component: 0.0162\nidiosyncratic error component: 0.0071\nρ: 0.8399\nNumber of observations: 630\nNull Loglikelihood: 2225.79\nLoglikelihood: 2226.01\nR-squared: 0.0007\nWald: 0.15 ∼ F(3, 626) ⟹ Pr > F = 0.9291\nFormula: CRMRTE ~ PrbConv + AvgSen + PrbPris\nVariance Covariance Estimator: OIM\n──────────────────────────────────────────────────────────────────────────────────────\n                    PE           SE       t-value  Pr > |t|         2.50%       97.50%\n──────────────────────────────────────────────────────────────────────────────────────\n(Intercept)   0.0309293    0.00266706   11.5968      <1e-27   0.0256918    0.0361668  \nPrbConv      -3.96634e-5   0.000198471  -0.199845    0.8417  -0.000429413  0.000350086\nAvgSen        8.2428e-5    0.000127818   0.644887    0.5192  -0.000168575  0.000333431\nPrbPris      -0.000123327  0.00404272   -0.030506    0.9757  -0.00806226   0.00781561 \n──────────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/#Instrumental-Variables-1","page":"Estimators","title":"Instrumental Variables","text":"","category":"section"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"Instrumental variables models are estimated using the 2SLS estimator.","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"model = fit(RandomEffectsEstimator,\n            @formula(CRMRTE ~ PrbConv + (AvgSen ~ PrbPris)),\n            data,\n            panel = :County,\n            time = :Year)","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"One-way Random Effect Model\nLongitudinal dataset: County, Year\nBalanced dataset with 90 panels of length 7\nindividual error component: 0.0413\nidiosyncratic error component: 0.0074\nρ: 0.9691\nNumber of observations: 630\nNull Loglikelihood: 2268.01\nLoglikelihood: 2248.34\nR-squared: NaN\nWald: 0.03 ∼ F(2, 626) ⟹ Pr > F = 0.9671\nFormula: CRMRTE ~ PrbConv + (AvgSen ~ PrbPris)\nVariance Covariance Estimator: OIM\n───────────────────────────────────────────────────────────────────────────────────────\n                    PE           SE        t-value  Pr > |t|         2.50%       97.50%\n───────────────────────────────────────────────────────────────────────────────────────\n(Intercept)   0.037747     0.0241684     1.56183      0.1188  -0.00971405   0.085208   \nPrbConv       1.39581e-5   0.000200244   0.0697054    0.9445  -0.000379273  0.000407189\nAvgSen       -0.000688924  0.00266514   -0.258494     0.7961  -0.00592262   0.00454478 \n───────────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/#Nominal-Response-Models-1","page":"Estimators","title":"Nominal Response Models","text":"","category":"section"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"data = joinpath(dirname(pathof(Econometrics)), \"..\", \"data\", \"insure.csv\") |>\n   CSV.read |>\n   (data -> select(data, [:insure, :age, :male, :nonwhite, :site])) |>\n   dropmissing |>\n   (data -> categorical!(data, [:insure, :site]))","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"615×5 DataFrame\n│ Row │ insure       │ age     │ male  │ nonwhite │ site         │\n│     │ Categorical… │ Float64 │ Int64 │ Int64    │ Categorical… │\n├─────┼──────────────┼─────────┼───────┼──────────┼──────────────┤\n│ 1   │ Indemnity    │ 73.7221 │ 0     │ 0        │ 2            │\n│ 2   │ Prepaid      │ 27.8959 │ 0     │ 0        │ 2            │\n│ 3   │ Indemnity    │ 37.5414 │ 0     │ 0        │ 1            │\n│ 4   │ Prepaid      │ 23.6413 │ 0     │ 1        │ 3            │\n│ 5   │ Prepaid      │ 29.6838 │ 0     │ 0        │ 2            │\n│ 6   │ Prepaid      │ 39.4689 │ 0     │ 0        │ 2            │\n│ 7   │ Uninsure     │ 63.102  │ 0     │ 1        │ 3            │\n⋮\n│ 608 │ Prepaid      │ 64.4216 │ 0     │ 1        │ 3            │\n│ 609 │ Prepaid      │ 69.9877 │ 0     │ 0        │ 1            │\n│ 610 │ Prepaid      │ 71.5209 │ 0     │ 0        │ 3            │\n│ 611 │ Prepaid      │ 63.4168 │ 0     │ 0        │ 2            │\n│ 612 │ Prepaid      │ 40.3532 │ 0     │ 1        │ 1            │\n│ 613 │ Prepaid      │ 55.3237 │ 1     │ 0        │ 3            │\n│ 614 │ Prepaid      │ 27.9836 │ 1     │ 0        │ 3            │\n│ 615 │ Prepaid      │ 30.59   │ 1     │ 0        │ 3            │","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"The model automatically detects that the response is nominal and uses the correct model.","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"model = fit(EconometricModel,\n            @formula(insure ~ age + male + nonwhite + site),\n            data,\n            contrasts = Dict(:insure => DummyCoding(base = \"Uninsure\")))","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"Probability Model for Nominal Response\nCategories: Uninsure, Indemnity, Prepaid\nNumber of observations: 615\nNull Loglikelihood: -555.85\nLoglikelihood: -534.36\nR-squared: 0.0387\nLR Test: 42.99 ∼ χ²(10) ⟹ Pr > χ² = 0.0000\nFormula: insure ~ 1 + age + male + nonwhite + site\n───────────────────────────────────────────────────────────────────────────────────────────────────\n                                       PE         SE       t-value  Pr > |t|       2.50%     97.50%\n───────────────────────────────────────────────────────────────────────────────────────────────────\ninsure: Indemnity ~ (Intercept)   1.28694     0.59232     2.17271     0.0302   0.123689   2.4502   \ninsure: Indemnity ~ age           0.00779612  0.0114418   0.681372    0.4959  -0.0146743  0.0302666\ninsure: Indemnity ~ male         -0.451848    0.367486   -1.22957     0.2193  -1.17355    0.269855 \ninsure: Indemnity ~ nonwhite     -0.217059    0.425636   -0.509965    0.6103  -1.05296    0.618843 \ninsure: Indemnity ~ site: 2       1.21152     0.470506    2.57493     0.0103   0.287497   2.13554  \ninsure: Indemnity ~ site: 3       0.207813    0.366293    0.56734     0.5707  -0.511547   0.927172 \ninsure: Prepaid ~ (Intercept)     1.55666     0.596327    2.61041     0.0093   0.385533   2.72778  \ninsure: Prepaid ~ age            -0.00394887  0.0115993  -0.340439    0.7336  -0.0267287  0.018831 \ninsure: Prepaid ~ male            0.109846    0.365187    0.300793    0.7637  -0.607343   0.827035 \ninsure: Prepaid ~ nonwhite        0.757718    0.419575    1.80592     0.0714  -0.0662835  1.58172  \ninsure: Prepaid ~ site: 2         1.32456     0.469789    2.81947     0.0050   0.401941   2.24717  \ninsure: Prepaid ~ site: 3        -0.380175    0.372819   -1.01973     0.3083  -1.11235    0.352001 \n───────────────────────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"estimators/#Ordinal-Response-Models-1","page":"Estimators","title":"Ordinal Response Models","text":"","category":"section"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"data = RDatasets.dataset(\"Ecdat\", \"Kakadu\") |>\n       (data -> select(data, [:RecParks, :Sex, :Age, :Schooling]))\ndata.RecParks = convert(Vector{Int}, data.RecParks)\ndata.RecParks = levels!(categorical(data.RecParks, ordered = true), collect(1:5))\ndata","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"1827×4 DataFrame\n│ Row  │ RecParks     │ Sex          │ Age   │ Schooling │\n│      │ Categorical… │ Categorical… │ Int32 │ Int32     │\n├──────┼──────────────┼──────────────┼───────┼───────────┤\n│ 1    │ 3            │ male         │ 27    │ 3         │\n│ 2    │ 5            │ female       │ 32    │ 4         │\n│ 3    │ 4            │ male         │ 32    │ 4         │\n│ 4    │ 1            │ female       │ 70    │ 6         │\n│ 5    │ 2            │ male         │ 32    │ 5         │\n│ 6    │ 3            │ male         │ 47    │ 6         │\n│ 7    │ 1            │ male         │ 42    │ 5         │\n⋮\n│ 1820 │ 3            │ female       │ 32    │ 4         │\n│ 1821 │ 4            │ male         │ 21    │ 5         │\n│ 1822 │ 3            │ male         │ 21    │ 3         │\n│ 1823 │ 3            │ male         │ 52    │ 4         │\n│ 1824 │ 2            │ female       │ 21    │ 3         │\n│ 1825 │ 5            │ female       │ 21    │ 2         │\n│ 1826 │ 1            │ female       │ 21    │ 4         │\n│ 1827 │ 4            │ male         │ 21    │ 5         │","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"The model automatically detects that the response is ordinal and uses the correct model.","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"model = fit(EconometricModel,\n            @formula(RecParks ~ Age + Sex + Schooling),\n            data)","category":"page"},{"location":"estimators/#","page":"Estimators","title":"Estimators","text":"Probability Model for Ordinal Response\nCategories: 1 < 2 < 3 < 4 < 5\nNumber of observations: 1827\nNull Loglikelihood: -2677.60\nLoglikelihood: -2657.40\nR-squared: 0.0075\nLR Test: 40.42 ∼ χ²(3) ⟹ Pr > χ² = 0.0000\nFormula: RecParks ~ Age + Sex + Schooling\n──────────────────────────────────────────────────────────────────────────────────────────\n                          PE          SE        t-value  Pr > |t|        2.50%      97.50%\n──────────────────────────────────────────────────────────────────────────────────────────\nAge                  0.00943647  0.00254031    3.71469     0.0002   0.00445424   0.0144187\nSex: male           -0.0151659   0.0846365    -0.179188    0.8578  -0.181161     0.150829 \nSchooling           -0.103902    0.0248742    -4.17711     <1e-4   -0.152687    -0.0551174\n(Intercept): 1 | 2  -2.92405     0.191927    -15.2352      <1e-48  -3.30047     -2.54763  \n(Intercept): 2 | 3  -1.54922     0.171444     -9.03632     <1e-18  -1.88547     -1.21297  \n(Intercept): 3 | 4  -0.298938    0.166904     -1.79108     0.0734  -0.626281     0.0284051\n(Intercept): 4 | 5   0.669835    0.167622      3.9961      <1e-4    0.341083     0.998587 \n──────────────────────────────────────────────────────────────────────────────────────────","category":"page"},{"location":"#Econometrics.jl-1","page":"Introduction","title":"Econometrics.jl","text":"","category":"section"},{"location":"#","page":"Introduction","title":"Introduction","text":"This package provides the functionality to estimate the following regression models:","category":"page"},{"location":"#","page":"Introduction","title":"Introduction","text":"Continuous Response Models\nOrdinary Least Squares (Stata's reg/ivregress 2sls)\nLongitudinal estimators\nRandom effects model à la Swamy Arora (Stata's xtreg/xtivreg)\nBetween estimator (Stata's xtreg, be)\nNominal Response Model\nMultinomial logistic (softmax) regression (Stata's mlogit)\nOrdinal Response Model\nProportional Odds Logistic Regression (Stata's ologit)","category":"page"},{"location":"#","page":"Introduction","title":"Introduction","text":"In addition, models incorporate the following features:","category":"page"},{"location":"#","page":"Introduction","title":"Introduction","text":"Implements the StatsBase.jl StatisticalModel/RegressionModel API\nSupport for frequency weights\nRobust Variance Covariance Estimators (e.g., heteroscedasticity consistent)\nInstrumental Variables Model through Two-Stage Least Squares (2SLS)\nFeature absorption for estimating a subset of parameters with high dimensional fixed effects as controls efficiently","category":"page"}]
}
